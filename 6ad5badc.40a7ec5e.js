(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{133:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"rightToc",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"default",(function(){return p}));var a=n(1),r=n(9),i=(n(0),n(143)),o={},c=[{value:"Overview",id:"overview",children:[{value:"Authentication",id:"authentication",children:[]}]}],s={id:"api/home",title:"home",description:"# API Reference\r",source:"@site/docs\\api\\home.md",permalink:"/Capi/docs/api/home",sidebar:"docs",previous:{title:"Installation",permalink:"/Capi/docs/setup"},next:{title:"Products",permalink:"/Capi/docs/api/Products"}},l={rightToc:c,metadata:s},u="wrapper";function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)(u,Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"api-reference"},"API Reference"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"/Capi/docs/api/Products"}),"Products")),Object(i.b)("li",{parentName:"ul"},"Orders"),Object(i.b)("li",{parentName:"ul"},"Order Statuses"),Object(i.b)("li",{parentName:"ul"},"Customers"),Object(i.b)("li",{parentName:"ul"},"Settings")),Object(i.b)("h2",{id:"overview"},"Overview"),Object(i.b)("p",null,"There are two types of exposed APIs, one that is public and does not need authentication.\nThis can be used to build the store functionality for not registered users. For example, you can issue this request to get the products without authentication e.g ",Object(i.b)("inlineCode",{parentName:"p"},"GET http://localhost:3001/ajax/products"),".\nThe second API, is basically every the whole API available for the application. This needs authentication ofcourse."),Object(i.b)("h3",{id:"authentication"},"Authentication"),Object(i.b)("p",null,"Authentication is done using HTTP cookies. To authenticate, send a login post request with correct email and password and pass the option to includes the credentials like the following:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),'await fetch("http://localhost:3001/ajax/login", {\n    method: "POST",\n    body: {"email": "admin@capi.com", "password": "admin"},\n    headers: {\n      "Content-Type": "application/json",\n    },\n    mode: "cors",\n    credentials: "include"\n});\n')),Object(i.b)("p",null,"After that, cookies will be saved in your browser and whenever you need to send them again you with any other request, just append ",Object(i.b)("inlineCode",{parentName:"p"},'credentials: "include"')," to that request."))}p.isMDXComponent=!0},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p}));var a=n(0),r=n.n(a),i=r.a.createContext({}),o=function(e){var t=r.a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):Object.assign({},t,e)),n},c=function(e){var t=o(e.components);return r.a.createElement(i.Provider,{value:t},e.children)};var s="mdxType",l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["components","mdxType","originalType","parentName"]),u=o(n),p=a,d=u[c+"."+p]||u[p]||l[p]||i;return n?r.a.createElement(d,Object.assign({},{ref:t},s,{components:n})):r.a.createElement(d,Object.assign({},{ref:t},s))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=u;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[s]="string"==typeof e?e:a,o[1]=c;for(var p=2;p<i;p++)o[p]=n[p];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);